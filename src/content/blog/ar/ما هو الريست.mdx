---
title: 'ما هو الريست (REST)؟'
description: 'تعلم ما هو ناقل الحالة التمثيلية (REST) و ما هي مبادئه الإرشادية الست.'
pubDate: 'Jul 02 2022'
image: /public/images/prompthero-prompt-6c4739896ef.webp

tags:
  - 'ممثل الحالة التمثيلية'
  - REST
  - 'تطوير المواقع'
  - "هندسة معمارية"
  - العربية
  - Arabic
lang: ar
---
# ما هو الريست (REST)؟
الREST هو إختصار ل**REpresentational State Transfer** و معناها **نقل الحالة التمثيلية** و هو نمط معماري لأنظمة الوسائط التشعبية الموزعة. قدمه [روي فيلدينج](https://ar.wikipedia.org/wiki/%D8%B1%D9%88%D9%8A_%D9%81%D9%8A%D9%84%D8%AF%D9%8A%D9%86%D8%BA) لأول مرة في [أطروحته](https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm) الشهيرة عام 2000.

كأي نمط معماري آخر، لدي الريست قيود و مبادئ توجيهية، يجب علينا أن نتبع هذه المبادئ قبل أن نشير لأي واجهة برمجية (API) تقدم خدمات علي أنها ناقلة للحالة التمثيلية أو RESTful.

   > الواجهة البرمجية لأي موقع و التي تتبع النمط المعماري للREST أو النمط المعماري لنقل الحالة التمثيلية، تسمي بواجهة نقل معمارية برمجية أو REST API.


# 1. المبادئ الإرشادية لواجهة نقل الحالة التمثيلية البرمجية
المبادئ الإرشادية أو القيود الست لبنية نقل الحالة التمثيلية هم الآتي:
## 1.1 واجهة برمجية موحدة
بتطبيق المبادئ العامة لمكونات الواجهة، يمكننا تبسيط النظام المعماري العام و تحسين وضوح التفاعلات معها.

تساعدنا عدة قيود معمارية في الحصول علي واجهة موحدة و سلوك توجيهي للمكونات.

يمكن للقيود الأربعة الآتية أن تحقق واجهة برمجية موحدة:
- تعريف الموارد - يجب علي الواجهة أن تُعرِف كل مورد يدخل في التفاعل بين العميل (client) و الخادم (server) بشكل فريد.
- التلاعب بحالة الموارد خلال ممثلات الموارد - علي الموارد أن يكون لها ممثل موحد في الخادم. علي مستهلكين الواجهة البرمجية إستخدام تلك الممثلات لتعديل حالة المورد في الخادم.
- رسائل وصفية ذاتية - كل ممثل لكل مورد عليه أن يحمل معلومات كافية لوصف كيفية تحليل الرسالة. يجب عليه أيضاً أن يمد العميل بمعلومات حول الإجراءات الإضافية و التي يمكن للعميل (Client) أن يجريها علي المورد.
- الوسائط التشعبية كمحرك لحالة التطبيق - علي العميل أن يحمل فقط مُعرف مورد موحد (URI) بدائي للتطبيق، و علي العميل أن يسوق بشكل متغير جميع الموارد الأخري و التفاعلات باستخدام الإرتباط التشعبي (Hyper-links).
## 1.2 العميل-الخادم
تفرض نماذج التصميم للخادم و العميل فصل الشؤون، و الذي يساعد مكونات العميل (Client) و الخادم (Server) علي أن يتطوروا بشكل منفرد عن الآخر.

بفصل شؤون واجهة المستخدم أو العميل (Client) و مخزن البيانات و هو الخادم (Server)، نحسن من قابلية نقل واجهة المستخدم بين منصات أو أنظمة تشغيل مختلفة و نحسن من توسيع و تبسيط الخادم و مكوناته.

بينما يتطور الخادم و المستخدم أو العميل، يجب علينا أن نتأكد أن الواجهة البرمجية أو الإتفاقية بين المستخدم و الخادم لن تنكسر.

## 1.3 إنعدام الحالة
يوصي إنعدام الحالة علي أن كل طلب من العميل للخادم أن يحمل كل المعلومات الضرورية لفهم و تكملة الطلب.

علي الخادم ألا يستخدم أي معلومات سياقية محفوظة سابقة (سياقية تعني البيانات المدخلة خلال الطلب، كالauthentication  و الauthorization هم علي الأغلب بيانات يتم حملها بواسطة العميل في ال JSON Web Token (JWT)) أو الHeaders.

لهذا السبب، علي تطبيق أو برنامج العميل أن يحتفظ كلياً بحالة الجلسة.
## 1.4 قابلية التخزين المؤقت
يتطلب قيد التخزين المؤقت أنه علي الإستجابة من الخادم أن تحمل طابعاً ضمني أو تصريحي علي أن هذا الطلب قابل للتخزين المؤقت أم لا.

إن كانت الإستجابة تحمل طابعاً بقابلية التخزين، لدي برنامج أو تطبيق العميل الأحقية لإستخدام بيانات هذه الإستجابة لطلبات مماثلة أخري (أي عدم طلبها مرة أخري إلي أن يتم مسحها بشكل تلقائي أو يدوي) لوقت محدد.
## 1.5 نظام طبقات
يسمح نمط نظام الطبقات للبنية أن تتكون من سلسلة من الطبقات من خلال تقييد سلوك العنصر.

علي سبيل المثال، في نظام الطبقات، لا يستطيع كل عنصر أن يري أبعد من الطبقة الذي يتعامل معها. 
## 1.6 كود حسب الطلب (إختياري)
يتيح النقل للحالة التمثيلية (REST) للعميل (Client) بوظيفة للتمديد بواسطة تنزيل و تنفيذ كود برمجي في شكل تطبيقات أو برامج نصية صغيرة.

يبسط الكود الذي تم تحميله برامج العملاء بتقليل عدد الميز المطلوب تطبيقها مسبقاً، يمكن للخادم أن يمد العميل بجزء من الميز المطلوبة في شكل كود، و كل ما يتطلبه الأمر هو أن ينفذ العميل هذا الكود.
# 2. ما هو المورد
التجريد الرئيسي للمعلومات في نقل لحالة التمثيلية (REST) هو المورد، أي معلومات يمكننا أن نعطيها إسم يمكن أن تصبح مورد، علي سبيل المثال: يمكن لمورد الحالة التمثيلية أن يكون ملف أو صورة، خدمة مؤقتة، مجموعة من الموارد الأخري أو موضوع غير إفتراضي (كشخص علي سبيل المثال).

حالة المورد، في أي وقد محدد، تُعرف بتمثيل المورد.

يتكون ثميل المورد من:
- البيانات
- البيانات الوصفية
- و روابط الوسائط التشعبية و التي يمكنها مساعدة العميل في الإنتقال للحالة القادمة المرغوبة.

> تتكون الواجهة البرمجية لنقل الحالة التمثيلية من موارد مترابطة، هذه المجموعة من الموارد معروفة بنموذج المورد.

## 2.1 معرفات الموارد
يستخدم نقل الحالة التمثيلية (REST) مُعرفات للموارد، لتعريف كل مورد يشارك في التعاملات بين عناصر العميل و الخادم.
## 2.2 الوسائط التشعبية
يُعرف شكل البيانات لممثل الحالة بنوع الوسائط، يحدد نوع الوسائط مواصفات و التي بدورها تُحدد كيفية تحليل التمثيل.

تبدو الواجهة البرمجية لنقل الحالة التمثيلية (RESTful API) كالنص التشعبي (Hypertext)، تحمل كل وحدة معلومات قابلة للعنونة عنوان بشكل تصريحي (علي سبيل المثال: وصلة `Link` و تعريف `id`) أو ضمني (علي سبيل المثال: مشتق من تعريف نوع الوسائط و البنية التمثيلية).

> النص التشعبي (أو الوسائط التشعبية) يعني التقديم المتزامن للمعلومات و الضوابط، تصبح تلك المعلومات التكلفة التي من خلالها يمكن للمستخدم العادي (أو الآلي) أن يحصل علي إختيارات و أن يحدد إجراءات يمكنه تفيذها.
> تذكر أن النص التشعبي لا يحتاج أن يكون HTML (أو حتي XML أو JSON) علي المتصفح. يمكن للأجهزة أن تتبع الروابط عندما يفهموا شكل البيانات و نوع العلاقة.
> — Roy Fielding

## 2.3 الوصف الذاتي
يجب أن تكون تمثيلات الموارد وصفية ذاتية لنفسها: لا يحتاج العميل (Client) أن يعلم إن كان المورد "موظف" أم "جهاز" (في سياق الموارد)، عليه أن يتصرف بناءاً علي نوع الوسائط المرتبطة بالمورد.

لذلك عملياً، سننشئ كثيراً من أنواع الوسائط المخصصة — عادتاً ما تُحدد HTML عملية التقديم للنص التشعبي و سلوك المتصفح حول كل عنصر.
> نوع الوسائط ليس له أي علاقة بطُرق المورد (GET/PUT/POST/DELETE...) ما عدا حقيقة أن بعض عناصر الوسائط ستُعرِف نموذج نهجي مثل "عنصر المرساة `(<a>)` بميزة href تصنع رابط نصي تشعبي (hypertext link) و الذي عندما يتم تحديده، يستدعي طلب إسترجاع (GET) علي مُعرف المورد الموحد 
> (URI) المتماثل لسمة الhref المشفرة للCDATA."
# 3. طُرق المورد
الشئ المهم الآخر المرتبط بنقل الحالة التمثيلية (REST) هو طُرق المورد، تُستخدم تلك الطُرق للمورد لتأدية الإنتقال المرغوب بين حالتين لأي مورد.

يربط عدد كبير من الناس بشكل خاطئ طُرق المورد بطُرق بروتوكول نقل النص التشعبي (HTTP) (كــ GET/PUT/POST/DELETE) لم يتطرق روي فيلدينج (مؤسس الREST) لأي توصية حول أي طريقة يجب إستخدامها تحت أي ظرف، كل ما أكده هو أنه يجب أن تكون الواجهة موحدة.

علي سبيل المثال، إن قررنا أن الواجهة البرمجية ستستخدم `HTTP POST` لتحديث بيانات المورد — بدلا من معظم الناس و الذين ينصحون باستخدام `HTTP PUT` — فلا يوجد مشكلة، وعلي الرغم من ذلك ستظل الواجهة البرمجية (API) علي أنها ناقلة للحالة التمثيلية أو RESTful.

من الناحية المثالية، سيكون كل شئ ضروري لإنتقال حالة المورد لتصبح جزءاً من تمثيل المورد — شاملاً كل الطُرق المتاحة وما هو الشكل الذي سيصبح فيه التمثيل.
> من المفترض أن نستخدم واجهة برمجية لنقل الحالة التمثيلية (RESTful API) بلا معرفة مسبقة أبعد من مُعرف الموارد الموحد البدائي (URI) (إشارة مرجعية) و المجموعة الموحدة من أنواع الوسائط ملائمة للجمهور المقصود (متوقع فهمه من قبل أي عميل يمكنه أن يستخدم الواجهة البرمجية)،
> من هذه النقطة، يجب علي كل إنتقالات حالة التطبيق أن تكون مدفوعة من قبل العميل، خلال خيارات مزودة من قبل الخادم موجودة في التمثيلات المستلمة أو مضمنة بتلاعب العميل بتلك التمثيلات.
> يمكن تحديد الإنتقالات بمعرفة العميل عن أنواع الوسائط و آليات التواصل بالموارد، يمكن تحسين كليهما علي الطاير (علي سبيل المثال: كود حسب الطلب). 
[الفشل هنا يعني أن المعلومات خارج النطاق تقود تفاعل بدلاً من نص تشعبي.]

# 4. نقل الحالة التمثيلية (REST) و بروتوكول نقل النص التشعبي (HTTP) ليسا بنفس الشئ
يفضل معظم الناس مقارنة HTTP بREST، ولكن REST و HTTP ليسا بنفس الشئ.

`REST != HTTP`

علي الرغم من أن نقل الحالة التمثيلية (REST) يميل الي أن يجعل المواقع و الإنترنت مبسط و معياري، يدعي روي فيلدينج لإستخدام مبادئ الREST بأكثر صرامة، و من هنا يبدأ بعض الناس في محاولة المقارنة بين الREST و المواقع أو الإنترنت.

لم يذكر روي فيلدينج في أُطروحته أي توجيه لكيفية تطبيق الREST — شاملاً أي تفضيل لبروتوكول آخر أو حتي HTTP، وحتي هذا الوقت نحن نكرم المبادئ الإرشادية الست لنقل الحالة التمثيلية (REST)، و التي يمكننا بواسطتها تسمية واجهتنا البرمجية بأنها ناقلة للحالة التمثيلية أو RESTful.

# 5. الملخص
في جمل بسيطة، في النمط المعماري لنقل الحالة التمثيلية (REST)، يتم إعتبار البيانات و الظائف  علي أنها موارد و يتم الوصول إليها خلال **مُعرف الموارد الموحد** (URI).

يتم التعامل مع الوسائط باستخدام مجموعة بسيطة و محددة من العمليات، أيضاً، يجب علي الوسائط أن تكون مفصولة عن تمثيلها حتي يمكن للعملاء الوصول للمحتوي في شتي الأشكال، كـHTML، XML، plain text، PDF، JPEG، JSON و إلخ.

يتبادل العميل (Client) و الخادم (Server) تمثيلات الموارد بإستخدام واجهة برمجية و بروتوكول موحد، عادتاً بروتوكول نقل النص التشعبي (HTTP) هو الأكثر إستخداماً، ولكن لا يوصي به لنقل الحالة التمثيلية (REST).

يتم إتاحة البيانات الوصفية و يتم إستخدامها في التحكُم بالتخزين المؤقت (Caching)، كشف أخطاء النقل والإرسال، تفاوض شكل تمثيل المورد، و تأدية المصادقة (Authentication) أو التحكُم في إمكانية الوصول.

و الأكثر أهمية، كل تفاعل بين الخادم يجب أن يكون بلا حالة (Stateless)، أي أنه لا يعتمد علي بيانات سياقية مسبقة.

تساعد كل هذه المبادئ في تبسيط وتسريع البرامج المستخدمة للواجهات البرمجية الناقلة للحالة التمثيلية أو RESTful.
